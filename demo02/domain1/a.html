<!DOCTYPE html>
<html>
  <head>
    <title>Main Page</title>
  </head>
  <body>
    <iframe src="domain2.com/b.html" frameborder="0" width="100%" id="iframe-b"></iframe>

    <script type="text/javascript">
      window.onload = function() {
        window.addEventListener('message', function(event) {
          if (event.origin === "http://domain2.com") {
            document.getElementById("iframe-b").style.height = event.data + "px";
          }
        }, false);
      }
    </script>
  </body>
</html>
